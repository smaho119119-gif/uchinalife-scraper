# Dashboard 使用方法

## セットアップ

### 1. サーバー起動

```bash
# ターミナル1: APIサーバー起動
python3 server.py
```

サーバーが `http://localhost:5000` で起動します。

### 2. ダッシュボードを開く

ブラウザで以下のいずれかの方法で開きます：

**方法A: 直接ファイルを開く**
```bash
open dashboard.html
```

**方法B: サーバー経由**
```
http://localhost:5000/dashboard.html
```

---

## 機能

### 📊 統計情報
- 総物件数
- 本日の新規物件
- 賃貸物件数
- 売買物件数

### 📑 タブ
1. **全物件** - 全てのアクティブな物件を表示（最大50件）
2. **新規物件** - 本日追加された新規物件
3. **成約済み** - 最近成約した物件
4. **日次差分** - 新規と成約をカテゴリー別に表示

### 🔍 フィルター
- カテゴリーでフィルター（住居、土地、マンションなど）
- タイプでフィルター（賃貸/売買）

### 🏷️ バッジ
- 🟢 **NEW** - 本日追加された物件
- 🔴 **成約済** - 非アクティブな物件

---

## スクリーンショット

ダッシュボードには以下が表示されます：

1. **ヘッダー**
   - タイトル
   - データベースタイプ（SQLITE/SUPABASE）
   - 最終更新時刻

2. **統計カード**
   - グラデーションデザイン
   - ホバーエフェクト

3. **物件カード**
   - クリックで詳細ページに移動
   - 価格、カテゴリー、お気に入り数表示

4. **レスポンシブデザイン**
   - スマホ、タブレット、PCに対応

---

## トラブルシューティング

### APIサーバーに接続できない

**エラー**: `データの読み込みに失敗しました`

**解決策**:
```bash
# サーバーが起動しているか確認
python3 server.py
```

### CORSエラー

**エラー**: `CORS policy: No 'Access-Control-Allow-Origin' header`

**解決策**: サーバー経由でアクセス
```
http://localhost:5000/dashboard.html
```

### データが表示されない

**確認事項**:
1. データベースにデータがあるか確認
   ```bash
   python3 test_database.py
   ```

2. スクレイパーを実行してデータ取得
   ```bash
   python3 integrated_scraper.py
   ```

---

## カスタマイズ

### 表示件数を変更

`dashboard.html` の130行目あたり:
```javascript
url += '?limit=50';  // ← この数値を変更
```

### カラースキームを変更

`<style>` セクションの以下を編集:
```css
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
```

### 物件カード画像を追加

`createPropertyCard()` 関数を編集:
```javascript
const imageUrl = prop.images && prop.images[0] ? prop.images[0] : null;
if (imageUrl) {
    card.innerHTML = `<img src="${imageUrl}" class="property-image" />...`;
}
```

---

## 次のステップ

1. **画像表示**: 物件画像を実際に表示
2. **詳細モーダル**: カードクリックで詳細をモーダル表示
3. **検索機能**: キーワード検索を追加
4. **ソート機能**: 価格順、日付順でソート
5. **ページネーション**: 大量データ対応

これらの機能が必要な場合はお知らせください！
